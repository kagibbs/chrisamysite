---
import { BackgroundImage, ImageSupportDetection } from "astro-imagetools/components";

export interface Props {
	title: string;
	backgroundUrl: string;
}

const { title, backgroundUrl } = Astro.props;

const backgroundImageStyle = {
	border: "2px solid red",
	borderRadius: "10px",
	transform: "translateZ(-0.7px) scale(1.7)",
	zIndex: -1,
	backgroundPosition: "bottom",
};
---

<ImageSupportDetection />

<BackgroundImage src={backgroundUrl}>
	<section class="titleBG">
		<h1>{title}</h1>
	</section>
</BackgroundImage>

<style>
	section {
		position: relative;
		min-height: 100vh;
		width: 100%;
		transform-style: inherit;
		background-attachment: fixed;
	}

	.titleBG::before {
		content: "";
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		display: block;
		background-size: cover;
		transform: translateZ(-0.5px) scale(1.6);
		z-index: -1;
		background-position: bottom;
	}

	.titleBG h1 {
		font-size: 2.5rem;
		text-align: center;
		position: absolute;
		padding: 1rem;
		top: 50%;
		left: 50%;
		transform: translateZ(-1px) scale(2) translate(-25%, -25%);
		transform: translateZ(-0.3px) scale(1.3) translate(-39%, -39%);
		z-index: 3;
		margin: 0;
		background: rgba(53, 53, 53, 0.7);
		border-radius: 4px;
		box-shadow: 0 0 2px #333;
		letter-spacing: 0.09em;
		text-shadow: 2px 2px 2px rgba(158, 78, 100, 0.7);
		line-height: 1.1em;
		color: #cfdce8;
	}
	@media (min-width: 768px) {
		.titleBG h1 {
			font-size: 3.5em;
		}
	}
</style>
